<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Flatten example</title>
	<script src="../build/build.js"></script>
	<script type="text/javascript">

		function printObj (obj, text) {
			console.log(text)
			for(var key in obj) {
				console.log(key + ': ' + obj[key]);
			}
		}

		function setObj () {
			var obj = {
				one: 'one',
				two: {
					three: 'whatever',
					four: {
						five: 'cool',
						six: 'not'
					},
					seven: ['an', 'array']
				}
			};
			return obj;
		}

		var flatten = require('flatten')
			, anotherObj = {
				some: 'other',
				properties: 'and',
				larger: {
					hosting: 'object'
				}
			};

		var obj = setObj();
		var opts = {};

		// Simple flatten
		flatten(obj);
		printObj(obj, 'Simple flatten, manipulate object directly');
		obj = setObj();

		// Does not affect original object
		var newObj = flatten(obj, {clone: true}); // clones the object
		printObj(obj, 'not affected');
		printObj(newObj, 'Flattened obj');
		obj = setObj();

		// // Flattens one obj into another.
		flatten(obj, {clone: true, into: anotherObj}); // must specify to clone the object.
		printObj(anotherObj, 'Flatten an object into another object');
		obj = setObj();

		// // Change the seperator 
		flatten(obj, {seperator: "-"});
		printObj(obj, 'Seperator is now a hyphen');
		obj = setObj();

		// // Set a prefix on first iteration
		// // Prefix is used for recursive calls but we can define it on the first run
		flatten(obj, {prefix: "flat-"});
		printObj(obj, 'Has a prefix');
		obj = setObj();

		// Ignore Arrays
		flatten(obj, {ignoreArrays: true});
		printObj(obj, 'Arrays are left alone');
		obj = setObj();

		
	</script>
</head>
<body>
	
</body>
</html>